# Chapter 4
## Exercises 4-1 && 4-2
Exercise 4-1 proved very straightforward. For exercise 4-2, I took the time to write out how the authors implemented atof(), and worked through how I'd extend the features. It's turning out to be very helpful to write out my thoughts in a notebook (with a pencil, no less), liberally commenting to ensure I have a coherent narrative before putting fingers to keyboard. I learned about `gcc's -lm`, [which tells gcc which files to link against](https://stackoverflow.com/a/8671386/11639518); I received an error stating `math.h`'s `pow()` wasn't defined, even as I `#include <math.h>`. Now I'll know what that means next time.

## Exercise 4-3
To compile exercise 4-3, I used: `gcc -Wall -Werror -Wextra calc.h main.c stack.c getop.c getch.c -lm -o calc`. I found the second part of this exercise, extending the calculator to handle negative numbers, a real challenge; I went through three source files, mulling over where best to implement a sign. After a few failures, I realized I needed to be pushing a correctly-signed value, and that got me thinking about external variables, which are the focus of this chapter. Once I embraced the use of an external variable, I found tracking the sign straightforward. The next challenge, though, involved handling the `-` sign, when it was intended to negate a value instead of trigger the subtraction operation. I decided to introduce a 'no-op' value, `&`, which would simply break out of my switch statement without doing anything. This let me read past the negative sign and trigger the next round of my while loop. I'm not sure if that's the 'right' solution, but it works for now, and I consider it a useful fix to have a 'no-op' handy.

## Miscellany
I'm switching from `cc` to `gcc`, with the -Wall -Werror -Wextra flags as suggested by my mentor. I got my hand slapped (politely) for declaring an array with {}; this isn't valid post C99, so I'm switching compilers to avail myself of the warnings & error messages that should help me write more compliant code.
I'm also wondering if the inclusion of the 'how I compiled' line in 4-3 means it's time to explore cmake -- would that let me better organize my repo, and make it easier for others to run these programs? Not that anyone's running this, but it could be good practice nonetheless.

## Bug
There is a bug in my calculator. To replicate it, perform a basic operation (`2 5 +`, for example). Then, assign a variable (such as `5 a =`). Perform an operation on this variable (`a 3 -`). In this example, the answer should be 2 (a representing 5). Instead, 5 is the answer. If you subsequently perform the same operation (`a 3 -`), you'll receive the correct answer (2). I don't know what the cause is, and after doing so much work on this blasted calculator, I'm quite ready to move on. But, there is an open issue for it, and maybe I'll circle back later. It did give me an excuse to learn to use VS Code for debugging, though I'm just not up to watching the variables change step by step right now.
